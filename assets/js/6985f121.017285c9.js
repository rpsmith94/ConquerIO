"use strict";(self.webpackChunkquant_docs=self.webpackChunkquant_docs||[]).push([[2489],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return h}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return n?o.createElement(h,i(i({ref:t},u),{},{components:n})):o.createElement(h,i({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1818:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return d}});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),i=["components"],l={slug:"golive",title:"Going live on QuantCDN",sidebar_label:"Go-live process"},s=void 0,p={unversionedId:"golive",id:"golive",title:"Going live on QuantCDN",description:"The go-live process on Quant is simple. A preview domain will be generated for each project, allowing validation and testing before changing any DNS records.",source:"@site/docs/golive.md",sourceDirName:".",slug:"/golive",permalink:"/ConquerIO/docs/golive",draft:!1,editUrl:"https://github.com/quantcdn/docs/tree/develop/docs/golive.md",tags:[],version:"current",frontMatter:{slug:"golive",title:"Going live on QuantCDN",sidebar_label:"Go-live process"},sidebar:"someSidebar",previous:{title:"Welcome",permalink:"/ConquerIO/docs/welcome"},next:{title:"Customize 404 page",permalink:"/ConquerIO/docs/custom-404"}},u={},d=[{value:"Maintaining access to your CMS",id:"maintaining-access-to-your-cms",level:2},{value:"Proxy authenticated users",id:"proxy-authenticated-users",level:3},{value:"WordPress",id:"wordpress",level:4},{value:"Drupal",id:"drupal",level:4},{value:"Run WordPress on a separate editorial domain",id:"run-wordpress-on-a-separate-editorial-domain",level:3},{value:"Run Drupal on a separate editorial domain",id:"run-drupal-on-a-separate-editorial-domain",level:3}],c={toc:d},m="wrapper";function h(e){var t=e.components,n=(0,a.Z)(e,i);return(0,r.kt)(m,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The go-live process on Quant is simple. A preview domain will be generated for each project, allowing validation and testing before changing any DNS records."),(0,r.kt)("p",null,"Assuming you have already ",(0,r.kt)("a",{parentName:"p",href:"/docs/welcome"},"created a project")," and populated with content:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Ensure the ",(0,r.kt)("a",{parentName:"li",href:"/docs/dashboard/domains"},"domains")," attached to your project are correct"),(0,r.kt)("li",{parentName:"ol"},"Validate and test your website contains all content as expected on the preview domain"),(0,r.kt)("li",{parentName:"ol"},"Visit the ",(0,r.kt)("a",{parentName:"li",href:"https://dashboard.quantcdn.io/domains"},'"Domains"')," section of the dashboard and follow the DNS record instructions provided"),(0,r.kt)("li",{parentName:"ol"},"Refresh the ",(0,r.kt)("a",{parentName:"li",href:"https://dashboard.quantcdn.io/domains"},'"Domains"'),' section and confirm the "DNS engaged" value. This may take a few minutes depending on your DNS TTL value.'),(0,r.kt)("li",{parentName:"ol"},'Check your website and confirm everything is working as expected. If you receive an SSL error you may click the "Renew" button next to the domain from Quant Dashboard, otherwise it will automatically generate periodically.')),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you are unsure about DNS values, where to change, or generally need support with the go-live process please contact support via your Quant Dashboard.")),(0,r.kt)("h2",{id:"maintaining-access-to-your-cms"},"Maintaining access to your CMS"),(0,r.kt)("p",null,"Once you have moved public traffic to Quant one issue remains: How to retain access to your WordPress or Drupal site for ongoing content authoring and administration."),(0,r.kt)("p",null,"Generally the simplest thing to do is move your CMS to a separate domain. If you are on an organization-level plan, you may also choose to proxy authenticated traffic through to origin while serving from the Quant static store for all public/anonymous users."),(0,r.kt)("h3",{id:"proxy-authenticated-users"},"Proxy authenticated users"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},'This approach requires using the "Rules" feature, which is available on all organization-level plans.')),(0,r.kt)("p",null,"The following configuration lets you continue managing your CMS content on your primary/production domain by proxying any authenticated traffic (e.g logged-in site editors) through to your origin server, while serving from the Quant static store for all other users."),(0,r.kt)("h4",{id:"wordpress"},"WordPress"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'Navigate to the "Rules" section of the Quant Dashboard'),(0,r.kt)("li",{parentName:"ol"},"Create a new rule for any/all relevant domains with a URL match of ",(0,r.kt)("inlineCode",{parentName:"li"},"/wp-login*")),(0,r.kt)("li",{parentName:"ol"},"Perform a ",(0,r.kt)("a",{parentName:"li",href:"/docs/dashboard/page-rules#proxy"},'standard "Proxy" action')," pointing to your webserver"),(0,r.kt)("li",{parentName:"ol"},'Ensure the "Cache lifetime" is set to ',(0,r.kt)("inlineCode",{parentName:"li"},"0")," to prevent caching the login route"),(0,r.kt)("li",{parentName:"ol"},"Save the rule"),(0,r.kt)("li",{parentName:"ol"},"Create another new rule for any/all relevant domains with a URL match of ",(0,r.kt)("inlineCode",{parentName:"li"},"*")),(0,r.kt)("li",{parentName:"ol"},"Perform a ",(0,r.kt)("a",{parentName:"li",href:"/docs/dashboard/page-rules#proxy"},'standard "Proxy" action')," pointing to your webserver"),(0,r.kt)("li",{parentName:"ol"},'This time, tick the "Only with cookie" option and provide ',(0,r.kt)("inlineCode",{parentName:"li"},"wordpress_logged_in_*")," as the cookie name"),(0,r.kt)("li",{parentName:"ol"},"Save the rule. You should be able to login at ",(0,r.kt)("inlineCode",{parentName:"li"},"/wp-login.php")," and update content normally")),(0,r.kt)("h4",{id:"drupal"},"Drupal"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'Navigate to the "Rules" section of the Quant Dashboard'),(0,r.kt)("li",{parentName:"ol"},"Create a new rule for any/all relevant domains with a URL match of ",(0,r.kt)("inlineCode",{parentName:"li"},"/user/*")),(0,r.kt)("li",{parentName:"ol"},"Perform a ",(0,r.kt)("a",{parentName:"li",href:"/docs/dashboard/page-rules#proxy"},'standard "Proxy" action')," pointing to your webserver"),(0,r.kt)("li",{parentName:"ol"},'Ensure the "Cache lifetime" is set to ',(0,r.kt)("inlineCode",{parentName:"li"},"0")," to prevent caching the login route"),(0,r.kt)("li",{parentName:"ol"},"Save the rule"),(0,r.kt)("li",{parentName:"ol"},"Create another new rule for any/all relevant domains with a URL match of ",(0,r.kt)("inlineCode",{parentName:"li"},"*")),(0,r.kt)("li",{parentName:"ol"},"Perform a ",(0,r.kt)("a",{parentName:"li",href:"/docs/dashboard/page-rules#proxy"},'standard "Proxy" action')," pointing to your webserver"),(0,r.kt)("li",{parentName:"ol"},'This time, tick the "Only with cookie" option and provide ',(0,r.kt)("inlineCode",{parentName:"li"},"SSESS*")," as the cookie name"),(0,r.kt)("li",{parentName:"ol"},"Save the rule. You should be able to login at ",(0,r.kt)("inlineCode",{parentName:"li"},"/user/login")," and update content normally")),(0,r.kt)("h3",{id:"run-wordpress-on-a-separate-editorial-domain"},"Run WordPress on a separate editorial domain"),(0,r.kt)("p",null,"Set your new WordPress CMS domain in your ",(0,r.kt)("inlineCode",{parentName:"p"},"wp-config.php")," file as below, or follow the ",(0,r.kt)("a",{parentName:"p",href:"https://wordpress.org/support/article/changing-the-site-url/"},"WordPress.org guide")," for more options."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"define( 'WP_HOME', 'https://wordpress.example.com' );\ndefine( 'WP_SITEURL', 'https://wordpress.example.com' );\n")),(0,r.kt)("p",null,"The most flexible choice is to allow your WordPress site to respond on any domain, and under any protocol. This allows the site to run under both ",(0,r.kt)("inlineCode",{parentName:"p"},"edit.example.com")," as well as ",(0,r.kt)("inlineCode",{parentName:"p"},"www.example.com"),"."),(0,r.kt)("p",null,"To allow this simply make the following change in ",(0,r.kt)("inlineCode",{parentName:"p"},"wp-config.php"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$protocol = stripos($_SERVER['SERVER_PROTOCOL'],'https') === 0 ? 'https://' : 'http://';\n\nif (!empty($_SERVER['HTTP_HOST'])) {\n  define('WP_SITEURL', $protocol . $_SERVER['HTTP_HOST']);\n  define('WP_HOME', $protocol . $_SERVER['HTTP_HOST']);\n}\n")),(0,r.kt)("h3",{id:"run-drupal-on-a-separate-editorial-domain"},"Run Drupal on a separate editorial domain"),(0,r.kt)("p",null,"Ensure your CMS domain is included in your Drupal ",(0,r.kt)("inlineCode",{parentName:"p"},"settings.php")," file (",(0,r.kt)("inlineCode",{parentName:"p"},"trusted_host_patterns")," array). For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$settings['trusted_host_patterns'] = [\n  // Public URLs.\n  '^www\\.quantcdn\\.io$',\n  '^quantcdn\\.io$',\n  // Editorial / admin domain.\n  '^edit\\.quantcdn\\.io$'\n];\n")),(0,r.kt)("p",null,"For more detail see the ",(0,r.kt)("a",{parentName:"p",href:"https://www.drupal.org/docs/installing-drupal/trusted-host-settings"},"Drupal.org page"),"."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"For improved security choose a highly randomized CMS domain, put behind basic authentication, or move to a private network. You have much greater control over access once you use Quant to serve public traffic.")))}h.isMDXComponent=!0}}]);