"use strict";(self.webpackChunkquant_docs=self.webpackChunkquant_docs||[]).push([[970],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return h}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),u=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(d.Provider,{value:t},e.children)},c="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(a),m=r,h=c["".concat(d,".").concat(m)]||c[m]||s[m]||i;return a?n.createElement(h,o(o({ref:t},p),{},{components:a})):n.createElement(h,o({ref:t},p))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=m;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5415:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return d},default:function(){return h},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var n=a(7462),r=a(3366),i=(a(7294),a(3905)),o=["components"],l={id:"drupal-search",title:"Using the Drupal Quant Search module",sidebar_label:"Search module"},d=void 0,u={unversionedId:"integrations/drupal/drupal-search",id:"integrations/drupal/drupal-search",title:"Using the Drupal Quant Search module",description:"The optional Drupal Quant Search (quant_search) submodule allows for creating Quant Search Pages within Drupal. Quant Search leverages the powerful Algolia search platform.",source:"@site/docs/integrations/drupal/search.md",sourceDirName:"integrations/drupal",slug:"/integrations/drupal/drupal-search",permalink:"/ConquerIO/docs/integrations/drupal/drupal-search",draft:!1,editUrl:"https://github.com/quantcdn/docs/tree/develop/docs/integrations/drupal/search.md",tags:[],version:"current",frontMatter:{id:"drupal-search",title:"Using the Drupal Quant Search module",sidebar_label:"Search module"},sidebar:"someSidebar",previous:{title:"Cron setup",permalink:"/ConquerIO/docs/integrations/drupal/drupal-cron"},next:{title:"WordPress",permalink:"/ConquerIO/docs/integrations/wordpress"}},p={},c=[{value:"Setup",id:"setup",level:2},{value:"Search Pages",id:"search-pages",level:2},{value:"Manual filters",id:"manual-filters",level:3},{value:"Facets",id:"facets",level:3},{value:"Search Index",id:"search-index",level:2},{value:"Entity Configuration",id:"entity-configuration",level:2},{value:"Node Configuration",id:"node-configuration",level:3},{value:"Images",id:"images",level:3}],s={toc:c},m="wrapper";function h(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.kt)(m,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The optional Drupal Quant Search (",(0,i.kt)("inlineCode",{parentName:"p"},"quant_search"),") submodule allows for creating Quant Search Pages within Drupal. Quant Search leverages the powerful ",(0,i.kt)("a",{parentName:"p",href:"https://www.algolia.com/"},"Algolia search platform"),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Quant Search is an ",(0,i.kt)("a",{parentName:"p",href:"https://www.quantcdn.io/features"},"add-on feature")," with a ",(0,i.kt)("a",{parentName:"p",href:"https://www.quantcdn.io/pricing"},"nominal cost"),".")),(0,i.kt)("h2",{id:"setup"},"Setup"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/docs/integrations/drupal"},"Connect Drupal with Quant")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/docs/dashboard/search"},"Enable Quant search in Dashboard")),(0,i.kt)("li",{parentName:"ol"},"Add the ",(0,i.kt)("inlineCode",{parentName:"li"},"quantcdn")," project to your site, e.g. ",(0,i.kt)("inlineCode",{parentName:"li"},"composer require drupal/quantcdn")),(0,i.kt)("li",{parentName:"ol"},"Enable the ",(0,i.kt)("inlineCode",{parentName:"li"},"quant_search")," Drupal module"),(0,i.kt)("li",{parentName:"ol"},"Go to the Drupal Quant Search admin page (",(0,i.kt)("inlineCode",{parentName:"li"},"/admin/config/development/quant/search"),")"),(0,i.kt)("li",{parentName:"ol"},"You should see a ",(0,i.kt)("inlineCode",{parentName:"li"},"Search is enabled for *project*")," message")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"For Drupal sites, the ",(0,i.kt)("inlineCode",{parentName:"p"},"quant_search")," module is the preferred method for adding Quant search pages. If you add search pages within the Quant Dashboard, these will not show up in Drupal. And, any search pages created in Drupal do not show up in the ",(0,i.kt)("a",{parentName:"p",href:"https://dashboard.quantcdn.io/search"},"Dashboard Search")," section. Search pages created in Drupal can be viewed with regular content in the ",(0,i.kt)("a",{parentName:"p",href:"https://dashboard.quantcdn.io/content"},"Dashboard Content")," section.")),(0,i.kt)("h2",{id:"search-pages"},"Search Pages"),(0,i.kt)("p",null,"Unlimited Quant search pages can be added in Drupal. They are pushed to Quant automatically when creating or updating search pages."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to the Drupal Quant Search Pages admin page (",(0,i.kt)("inlineCode",{parentName:"li"},"/admin/config/development/quant/search/pages"),")"),(0,i.kt)("li",{parentName:"ol"},"Click the ",(0,i.kt)("inlineCode",{parentName:"li"},"Add Quant search page")," button"),(0,i.kt)("li",{parentName:"ol"},"Fill in the page details including, at minimum, ",(0,i.kt)("inlineCode",{parentName:"li"},"Label")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"Route")),(0,i.kt)("li",{parentName:"ol"},"The page can be enabled or disabled as needed and defaults to disabled"),(0,i.kt)("li",{parentName:"ol"},"The options are fairly self-explanatory, but some notable options are detailed below"),(0,i.kt)("li",{parentName:"ol"},"Click the ",(0,i.kt)("inlineCode",{parentName:"li"},"Save")," button to save the search page and send the page to Quant")),(0,i.kt)("h3",{id:"manual-filters"},"Manual filters"),(0,i.kt)("p",null,"See the ",(0,i.kt)("a",{parentName:"p",href:"https://www.algolia.com/doc/guides/managing-results/refine-results/filtering/"},"Algolia Filter documentation")," for details on the types of filters that can be added."),(0,i.kt)("h3",{id:"facets"},"Facets"),(0,i.kt)("p",null,"Search facets can be added and will allow the user to filter the content."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"There are 3 facet styles: checkbox, select, and menu"),(0,i.kt)("li",{parentName:"ol"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"Content type")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"Language")," facets have no additional configuration"),(0,i.kt)("li",{parentName:"ol"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"Taxonomy")," facet requires you to select a ",(0,i.kt)("inlineCode",{parentName:"li"},"Vocabulary")),(0,i.kt)("li",{parentName:"ol"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"Facet heading")," is optional, but good for UX and accessibility"),(0,i.kt)("li",{parentName:"ol"},"For multilingual sites, the ",(0,i.kt)("inlineCode",{parentName:"li"},"Facet language")," can be chosen"),(0,i.kt)("li",{parentName:"ol"},"To remove any facet, click the ",(0,i.kt)("inlineCode",{parentName:"li"},"Remove facet")," button"),(0,i.kt)("li",{parentName:"ol"},"To add a facet, fill in the bottom facet details and click the ",(0,i.kt)("inlineCode",{parentName:"li"},"Add facet")," button"),(0,i.kt)("li",{parentName:"ol"},"Facets can be reordered using drag-and-drop or by changing the ",(0,i.kt)("inlineCode",{parentName:"li"},"Facet weight")),(0,i.kt)("li",{parentName:"ol"},"After changing any facet information, click the ",(0,i.kt)("inlineCode",{parentName:"li"},"Save")," button")),(0,i.kt)("h2",{id:"search-index"},"Search Index"),(0,i.kt)("p",null,"The Quant Search index contains all the information sent to Quant based on the entity configuration and search pages."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to the Drupal Quant Search admin page for index status (",(0,i.kt)("inlineCode",{parentName:"li"},"/admin/config/development/quant/search"),")"),(0,i.kt)("li",{parentName:"ol"},"Click the ",(0,i.kt)("inlineCode",{parentName:"li"},"Clear index")," button to remove all the content from the search index"),(0,i.kt)("li",{parentName:"ol"},"Go to the Drupal Quant Index admin page to reindex content (",(0,i.kt)("inlineCode",{parentName:"li"},"/admin/config/development/quant/search/index"),")")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Clearing the index means all of the search-related data is removed, but the Drupal pages will remain in Drupal and in Quant. If you have active search pages, these will show no results if the index has been cleared and not updated."),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"If you intend to remove search from your site, it is best to disable all search pages first and then clear the index"),(0,i.kt)("li",{parentName:"ul"},"If you are temporarily removing search index data, make sure to reindex as soon as possible"))),(0,i.kt)("h2",{id:"entity-configuration"},"Entity Configuration"),(0,i.kt)("p",null,"Some of the search results details are configurable such as the result title, summary, image, and view mode."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to the Drupal Quant ",(0,i.kt)("inlineCode",{parentName:"li"},"Entity configuration")," admin page (",(0,i.kt)("inlineCode",{parentName:"li"},"/admin/config/development/quant/search/entities"),")"),(0,i.kt)("li",{parentName:"ol"},"The configuration defaults to common search requirements"),(0,i.kt)("li",{parentName:"ol"},"Enable or disable ",(0,i.kt)("inlineCode",{parentName:"li"},"node")," (page) and ",(0,i.kt)("inlineCode",{parentName:"li"},"term")," content with the checkboxes"),(0,i.kt)("li",{parentName:"ol"},"No other configuration is currently available for taxonomy"),(0,i.kt)("li",{parentName:"ol"},"Click the ",(0,i.kt)("inlineCode",{parentName:"li"},"Save configuration")," button to save changes")),(0,i.kt)("h3",{id:"node-configuration"},"Node Configuration"),(0,i.kt)("p",null,"Search content for ",(0,i.kt)("inlineCode",{parentName:"p"},"nodes")," (pages) can be configured per content type."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"There are default options for ",(0,i.kt)("inlineCode",{parentName:"li"},"Title"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"Summary"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"Image"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"Content view mode")),(0,i.kt)("li",{parentName:"ul"},"For each content type, there are overrides available for these options"),(0,i.kt)("li",{parentName:"ul"},"Content types can also be excluded from the search index entirely"),(0,i.kt)("li",{parentName:"ul"},"Reindex content if the configuration has changed")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Excluding a content type after its content has been added to the search index, requires clearing the search index before reindexing.")),(0,i.kt)("h3",{id:"images"},"Images"),(0,i.kt)("p",null,"To show images in the search results, update the image token to the correct image style for your content type. Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"[node:field_image:medium:url]\n")))}h.isMDXComponent=!0}}]);