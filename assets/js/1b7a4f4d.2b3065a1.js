"use strict";(self.webpackChunkquant_docs=self.webpackChunkquant_docs||[]).push([[7692],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),f=o,m=u["".concat(s,".").concat(f)]||u[f]||d[f]||a;return n?r.createElement(m,i(i({ref:t},p),{},{components:n})):r.createElement(m,i({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},1445:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],l={id:"client-workflow",title:"Ideal API client workflow",sidebar_label:"API client workflow"},s=void 0,c={unversionedId:"api/client-workflow",id:"api/client-workflow",title:"Ideal API client workflow",description:"Step 1: Send markup",source:"@site/docs/api/client-workflow.md",sourceDirName:"api",slug:"/api/client-workflow",permalink:"/ConquerIO/docs/api/client-workflow",draft:!1,editUrl:"https://github.com/quantcdn/docs/tree/develop/docs/api/client-workflow.md",tags:[],version:"current",frontMatter:{id:"client-workflow",title:"Ideal API client workflow",sidebar_label:"API client workflow"},sidebar:"someSidebar",previous:{title:"Search records",permalink:"/ConquerIO/docs/api/search"},next:{title:"Get started",permalink:"/ConquerIO/docs/security/waf/get-started"}},p={},u=[{value:"Step 1: Send markup",id:"step-1-send-markup",level:2},{value:"Step 2: Local comparison of MD5 values",id:"step-2-local-comparison-of-md5-values",level:2}],d={toc:u},f="wrapper";function m(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)(f,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"step-1-send-markup"},"Step 1: Send markup"),(0,a.kt)("p",null,"The first request should send page markup. The Quant service will respond with detected assets (e.g images, stylesheets, etc) and include existing MD5 values if the files already exist in Quant."),(0,a.kt)("p",null,"An example content payload:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},"{\n  \"url\" : \"/\",\n  \"content\" : \"<html><head><script src='/path/to/script.js'><\/script><link rel='stylesheet' href='/path/to/styles.css'></head><body><h1>Welcome!</h1><img src='/path/to/image.jpeg?itok=aB33k'><form action='/contact-us'></form></body></html>\",\n  \"published\" : true,\n}\n")),(0,a.kt)("p",null,".. and example response from Quant:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "published":true,\n   "byte_length":213,\n   "error":false,\n   "md5":"e808012771922b894138b757fa41fa10",\n   "attachments":{\n      "forms":[\n         {\n            "path":"\\/contact-us"\n         }\n      ],\n      "js":[\n         {\n            "path":"\\/path\\/to\\/script.js",\n            "existing_md5":"a152e0eb61138e9a07a176d75eee7f35"\n         }\n      ],\n      "css":[\n         {\n            "path":"\\/path\\/to\\/styles.css",\n            "existing_md5":"891ca2f45bfeb77cb22ad89e0fa448b6"\n         }\n      ],\n      "media":{\n         "video":{\n         },\n         "audio":{\n         },\n         "images":[\n            {\n               "existing_md5":"928cf351ba7ba6e73bf34033b7c1c0dd",\n               "path":"\\/path\\/to\\/image.jpeg",\n               "full_path":"\\/path\\/to\\/image.jpeg?itok=aB33k"\n            }\n         ],\n         "documents":{\n         }\n      }\n   },\n   "type":"content"\n}\n')),(0,a.kt)("h2",{id:"step-2-local-comparison-of-md5-values"},"Step 2: Local comparison of MD5 values"),(0,a.kt)("p",null,"Based on the response the client should iterate through relevant attachments and compare ",(0,a.kt)("inlineCode",{parentName:"p"},"existing_md5")," values with local asset hashes. Only files that do not have any existing MD5 (or the MD5 does not match) need to be uploaded to ensure the process is as efficient as possible."))}m.isMDXComponent=!0}}]);